{%- include 'enums.jinja' -%}

{%- include 'graphql_schema_type.jinja' -%}

{%- include 'base_types.jinja' -%}

{%- for schema in table_schemas.values() %}
type {{ schema.name }} {
{%- for attr in schema.attributes %}
  {{ attr.name }}: {{ attr.type|graphql_type }}
{%- endfor %}
}
{%- endfor %}

{%- for schema in table_schemas.values() %}
type {{ schema.name }}Response {
  StatusCode: Int!
  Message: String
  Data: {{ schema.name }}
}
{%- endfor %}
{%- for schema in table_schemas.values() %}
type {{ schema.name }}ListResponse {
  StatusCode: Int!
  Message: String
  Data: [{{ schema.name }}]
}
{%- endfor %}
{%- for schema in table_schemas.values() %}
{%- for operation in schema.operations %}
{%- if operation.type != 'Query' %}
{%- set response_type_name = operation.field + 'Response' %}
type {{ response_type_name }} {
  StatusCode: Int!
  Message: String
  Data: {{ schema.name }}
}
{%- endif %}
{%- endfor %}
{%- endfor %}

type Query {
{%- include 'graphql_schema_queries.jinja' %}
}

type Mutation {
{%- include 'graphql_schema_mutations.jinja' %}
}
