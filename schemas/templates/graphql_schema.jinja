"""
Base GraphQL schema.
Generated at {{ timestamp }}.

This schema follows these conventions:
- Type names: PascalCase (e.g., ApplicationRole)
- Field names: camelCase (e.g., applicationId)
- Input types: PascalCase with Input suffix (e.g., ApplicationRoleInput)
- Response types: PascalCase with Response suffix (e.g., ApplicationRoleResponse)
- List response types: PascalCase with ListResponse suffix (e.g., ApplicationRoleListResponse)
- Query operations: PascalCase with Query suffix (e.g., ApplicationRoleQuery)
- Mutation operations: PascalCase with action suffix (e.g., ApplicationRoleCreate)
- Response fields: PascalCase (e.g., StatusCode, Message, Data)

All operations are secured with AWS Cognito user pool authentication for the admin group.
"""

# Enums
{% for table_name, schema in schemas.items() %}
{% for attr in schema.attributes %}
{% if attr.enum_type %}
enum {{ attr.enum_type }} {
    {% for value in attr.enum_values %}
    {{ value }}
    {% endfor %}
}
{% endif %}
{% endfor %}
{% endfor %}

# GraphQL Types
{% for type_name, type_info in graphql_types.items() %}
type {{ type_name }} {
  {% for attr in type_info.attributes %}
  {{ attr.name | to_camel_case }}: {% if attr.enum_type %}{{ attr.enum_type }}{% else %}{% if attr.type == 'timestamp' %}AWSDateTime{% elif attr.type == 'boolean' %}Boolean{% elif attr.type == 'array' %}[String]{% else %}String{% endif %}{% endif %}{% if attr.required %}!{% endif %}
  {% endfor %}
}
{% endfor %}

# Base types
{% for schema_name, schema in schemas.items() %}
type {{ schema.name }} {
  {% for attr in schema.attributes %}
  {{ attr.name | to_camel_case }}: {% if attr.enum_type %}{{ attr.enum_type }}{% else %}{% if attr.type == 'timestamp' %}AWSDateTime{% elif attr.type == 'boolean' %}Boolean{% elif attr.type == 'array' %}[String]{% else %}String{% endif %}{% endif %}!
  {% endfor %}
}

input {{ schema.name }}CreateInput {
  {% for attr in schema.attributes %}
  {{ attr.name | to_camel_case }}: {% if attr.enum_type %}{{ attr.enum_type }}{% else %}{% if attr.type == 'timestamp' %}AWSDateTime{% elif attr.type == 'boolean' %}Boolean{% elif attr.type == 'array' %}[String]{% else %}String{% endif %}{% endif %}!
  {% endfor %}
}

input {{ schema.name }}UpdateInput {
  {% for attr in schema.attributes %}
  {{ attr.name | to_camel_case }}: {% if attr.enum_type %}{{ attr.enum_type }}{% else %}{% if attr.type == 'timestamp' %}AWSDateTime{% elif attr.type == 'boolean' %}Boolean{% elif attr.type == 'array' %}[String]{% else %}String{% endif %}{% endif %}
  {% endfor %}
}

input {{ schema.name }}QueryBy{{ schema.partition_key | to_pascal_case }}Input {
  {{ schema.partition_key | to_camel_case }}: String!
}

{% if schema.sort_key and schema.sort_key != 'None' %}
input {{ schema.name }}QueryBy{{ schema.sort_key | to_pascal_case }}Input {
  {{ schema.sort_key | to_camel_case }}: String!
}

input {{ schema.name }}QueryByBothInput {
  {{ schema.partition_key | to_camel_case }}: String!
  {{ schema.sort_key | to_camel_case }}: String!
}
{% endif %}

{% for index in schema.secondary_indexes %}
input {{ schema.name }}QueryBy{{ index.partition | to_pascal_case }}Input {
  {{ index.partition | to_camel_case }}: String!{% if index.sort and index.sort != 'None' %}
  {{ index.sort | to_camel_case }}: String!{% endif %}
}
{% endfor %}

type {{ schema.name }}Response {
  StatusCode: Int!
  Message: String!
  Data: {{ schema.name }}
}

type {{ schema.name }}ListResponse {
  StatusCode: Int!
  Message: String!
  Data: [{{ schema.name }}]
}
{% endfor %}