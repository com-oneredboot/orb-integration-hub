# file: schema-generator.yml
# author: orb-integration-hub
# date: 2026-01-08
# description: orb-schema-generator 0.13.2 configuration

project:
  name: orb-integration-hub
  customerId: orb
  projectId: integration-hub
  environment: dev

paths:
  schemas: ./schemas
  subdirectories:
    core: core
    tables: tables
    models: models
    registries: registries
    graphql: graphql
    lambdas: lambdas

output:
  python:
    enabled: true
    targets:
      api:
        base_dir: ./apps/api
        enums_subdir: enums
        models_subdir: models
      web:
        base_dir: ./apps/api
        enums_subdir: enums
        models_subdir: models

  typescript:
    enabled: true
    targets:
      api:
        base_dir: ./apps/web/src/app
        enums_subdir: core/enums
        models_subdir: core/models
      web:
        base_dir: ./apps/web/src/app
        enums_subdir: core/enums
        models_subdir: core/models

  dart:
    enabled: false

  graphql:
    enabled: true
    targets:
      api:
        base_dir: ./apps/api/graphql
      web:
        base_dir: ./apps/api/graphql

  infrastructure:
    format: cdk
    cdk:
      base_dir: ./infrastructure/cdk
      language: python
      generate_stack: false
    appsync:
      generateResolvers: true
      resolverOutputDir: ./infrastructure/cloudformation/appsync/resolvers
      auth:
        userPoolId: "/orb/integration-hub/dev/cognito/user-pool-id"
        publicEndpoints: false
      logging:
        enabled: true
        level: ALL

generation:
  validate_schemas: true
  validate_graphql: true
  cleanup_old_files: true

logging:
  level: INFO
  file: ./schema_generator.log
