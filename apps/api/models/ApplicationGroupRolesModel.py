# AUTO-GENERATED by orb-schema-generator v1.1.0 - DO NOT EDIT
# Regenerate with: orb-schema generate
"""
Generated Python models for ApplicationGroupRoles
"""

from pydantic import BaseModel, ConfigDict, Field, field_validator
from typing import List, Optional
from datetime import datetime

from ..enums.application_group_role_status_enum import ApplicationGroupRoleStatus
from ..enums.environment_enum import Environment


# CRUD Input Types
class ApplicationGroupRolesCreateInput(BaseModel):
    """ApplicationGroupRoles create input."""

    application_group_role_id: str = Field(
        ..., description="Unique identifier for the group-role assignment (primary key)"
    )
    application_group_id: str = Field(
        ..., description="ID of the group (foreign key to ApplicationGroups)"
    )
    application_id: str = Field(..., description="ID of the application (denormalized for queries)")
    environment: Environment = Field(..., description="Environment this role assignment applies to")
    role_id: str = Field(..., description="ID of the role (foreign key to Roles)")
    role_name: str = Field(..., description="Name of the role (denormalized for display)")
    permissions: List[str] = Field(
        ...,
        description="List of permissions granted by this role (denormalized for fast resolution)",
    )
    status: ApplicationGroupRoleStatus = Field(
        ..., description="Current status of the role assignment"
    )
    created_at: datetime = Field(..., description="When the role was assigned to the group")
    updated_at: datetime = Field(..., description="When the assignment was last updated")


class ApplicationGroupRolesUpdateInput(BaseModel):
    """ApplicationGroupRoles update input."""

    application_group_role_id: Optional[str] = Field(
        ..., description="Unique identifier for the group-role assignment (primary key)"
    )
    application_group_id: Optional[str] = Field(
        ..., description="ID of the group (foreign key to ApplicationGroups)"
    )
    application_id: Optional[str] = Field(
        ..., description="ID of the application (denormalized for queries)"
    )
    environment: Optional[Environment] = Field(
        ..., description="Environment this role assignment applies to"
    )
    role_id: Optional[str] = Field(..., description="ID of the role (foreign key to Roles)")
    role_name: Optional[str] = Field(..., description="Name of the role (denormalized for display)")
    permissions: Optional[List[str]] = Field(
        ...,
        description="List of permissions granted by this role (denormalized for fast resolution)",
    )
    status: Optional[ApplicationGroupRoleStatus] = Field(
        ..., description="Current status of the role assignment"
    )
    created_at: Optional[datetime] = Field(
        ..., description="When the role was assigned to the group"
    )
    updated_at: Optional[datetime] = Field(..., description="When the assignment was last updated")


class ApplicationGroupRolesDeleteInput(BaseModel):
    """ApplicationGroupRoles delete input."""

    application_group_role_id: str


class ApplicationGroupRolesDisableInput(BaseModel):
    """ApplicationGroupRoles disable input."""

    application_group_role_id: str
    disabled: bool


# Query Input Types
class ApplicationGroupRolesQueryByApplicationGroupRoleIdInput(BaseModel):
    """ApplicationGroupRoles query by applicationGroupRoleId."""

    application_group_role_id: str


class ApplicationGroupRolesQueryByApplicationGroupIdInput(BaseModel):
    """ApplicationGroupRoles query by applicationGroupId."""

    application_group_id: str


class ApplicationGroupRolesQueryByApplicationIdInput(BaseModel):
    """ApplicationGroupRoles query by applicationId."""

    application_id: str


# Main Model
class ApplicationGroupRoles(BaseModel):
    """ApplicationGroupRoles model."""

    model_config = ConfigDict(from_attributes=True)

    application_group_role_id: str = Field(
        ..., description="Unique identifier for the group-role assignment (primary key)"
    )
    application_group_id: str = Field(
        ..., description="ID of the group (foreign key to ApplicationGroups)"
    )
    application_id: str = Field(..., description="ID of the application (denormalized for queries)")
    environment: Environment = Field(..., description="Environment this role assignment applies to")
    role_id: str = Field(..., description="ID of the role (foreign key to Roles)")
    role_name: str = Field(..., description="Name of the role (denormalized for display)")
    permissions: List[str] = Field(
        ...,
        description="List of permissions granted by this role (denormalized for fast resolution)",
    )
    status: ApplicationGroupRoleStatus = Field(
        ..., description="Current status of the role assignment"
    )
    created_at: datetime = Field(..., description="When the role was assigned to the group")
    updated_at: datetime = Field(..., description="When the assignment was last updated")

    @field_validator("created_at", mode="before")
    @classmethod
    def parse_created_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value

    @field_validator("updated_at", mode="before")
    @classmethod
    def parse_updated_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value


# Response Types
class ApplicationGroupRolesCreateResponse(BaseModel):
    """ApplicationGroupRoles create response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[ApplicationGroupRoles] = None


class ApplicationGroupRolesUpdateResponse(BaseModel):
    """ApplicationGroupRoles update response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[ApplicationGroupRoles] = None


class ApplicationGroupRolesDeleteResponse(BaseModel):
    """ApplicationGroupRoles delete response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[ApplicationGroupRoles] = None


class ApplicationGroupRolesDisableResponse(BaseModel):
    """ApplicationGroupRoles disable response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[ApplicationGroupRoles] = None


class ApplicationGroupRolesGetResponse(BaseModel):
    """ApplicationGroupRoles get response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[ApplicationGroupRoles] = None


class ApplicationGroupRolesListResponse(BaseModel):
    """ApplicationGroupRoles list response."""

    code: int
    success: bool
    message: Optional[str] = None
    items: Optional[List[ApplicationGroupRoles]] = None
    next_token: Optional[str] = None
