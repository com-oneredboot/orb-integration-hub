# AUTO-GENERATED by orb-schema-generator v0.19.0 - DO NOT EDIT
# Regenerate with: orb-schema generate
"""
Generated Python models for Notifications
"""

from pydantic import BaseModel, ConfigDict, Field, field_validator
from typing import Any, Dict, List, Optional
from datetime import datetime

from ..enums.notification_status_enum import NotificationStatus
from ..enums.notification_type_enum import NotificationType


# CRUD Input Types
class NotificationsCreateInput(BaseModel):
    """Notifications create input."""

    notification_id: str = Field(
        ..., description="Unique identifier for the notification (primary key)"
    )
    recipient_user_id: str = Field(
        ...,
        description="ID of the user who should receive this notification (foreign key to Users)",
    )
    sender_user_id: Optional[str] = Field(
        None, description="ID of the user who triggered this notification (foreign key to Users)"
    )
    type: NotificationType = Field(..., description="Type of notification")
    status: NotificationStatus = Field(..., description="Current status of the notification")
    title: str = Field(..., description="Title/subject of the notification")
    message: str = Field(..., description="Content/body of the notification")
    metadata: Optional[Dict[str, Any]] = Field(
        None, description="Additional context data (applicationId, organizationId, etc.)"
    )
    expires_at: Optional[datetime] = Field(
        None, description="When the notification expires (for time-sensitive actions)"
    )
    created_at: datetime = Field(..., description="When the notification was created")
    updated_at: datetime = Field(..., description="When the notification was last updated")


class NotificationsUpdateInput(BaseModel):
    """Notifications update input."""

    notification_id: Optional[str] = Field(
        ..., description="Unique identifier for the notification (primary key)"
    )
    recipient_user_id: Optional[str] = Field(
        ...,
        description="ID of the user who should receive this notification (foreign key to Users)",
    )
    sender_user_id: Optional[str] = Field(
        None, description="ID of the user who triggered this notification (foreign key to Users)"
    )
    type: Optional[NotificationType] = Field(..., description="Type of notification")
    status: Optional[NotificationStatus] = Field(
        ..., description="Current status of the notification"
    )
    title: Optional[str] = Field(..., description="Title/subject of the notification")
    message: Optional[str] = Field(..., description="Content/body of the notification")
    metadata: Optional[Dict[str, Any]] = Field(
        None, description="Additional context data (applicationId, organizationId, etc.)"
    )
    expires_at: Optional[datetime] = Field(
        None, description="When the notification expires (for time-sensitive actions)"
    )
    created_at: Optional[datetime] = Field(..., description="When the notification was created")
    updated_at: Optional[datetime] = Field(
        ..., description="When the notification was last updated"
    )


class NotificationsDeleteInput(BaseModel):
    """Notifications delete input."""

    notification_id: str


class NotificationsDisableInput(BaseModel):
    """Notifications disable input."""

    notification_id: str
    disabled: bool


# Query Input Types
class NotificationsQueryByNotificationIdInput(BaseModel):
    """Notifications query by notificationId."""

    notification_id: str


class NotificationsQueryByRecipientUserIdInput(BaseModel):
    """Notifications query by recipientUserId."""

    recipient_user_id: str


class NotificationsQueryByTypeInput(BaseModel):
    """Notifications query by type."""

    type: str


# Main Model
class Notifications(BaseModel):
    """Notifications model."""

    model_config = ConfigDict(from_attributes=True)

    notification_id: str = Field(
        ..., description="Unique identifier for the notification (primary key)"
    )
    recipient_user_id: str = Field(
        ...,
        description="ID of the user who should receive this notification (foreign key to Users)",
    )
    sender_user_id: Optional[str] = Field(
        None, description="ID of the user who triggered this notification (foreign key to Users)"
    )
    type: NotificationType = Field(..., description="Type of notification")
    status: NotificationStatus = Field(..., description="Current status of the notification")
    title: str = Field(..., description="Title/subject of the notification")
    message: str = Field(..., description="Content/body of the notification")
    metadata: Optional[Dict[str, Any]] = Field(
        None, description="Additional context data (applicationId, organizationId, etc.)"
    )
    expires_at: Optional[datetime] = Field(
        None, description="When the notification expires (for time-sensitive actions)"
    )
    created_at: datetime = Field(..., description="When the notification was created")
    updated_at: datetime = Field(..., description="When the notification was last updated")

    @field_validator("expires_at", mode="before")
    @classmethod
    def parse_expires_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value

    @field_validator("created_at", mode="before")
    @classmethod
    def parse_created_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value

    @field_validator("updated_at", mode="before")
    @classmethod
    def parse_updated_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value


# Response Types
class NotificationsCreateResponse(BaseModel):
    """Notifications create response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[Notifications] = None


class NotificationsUpdateResponse(BaseModel):
    """Notifications update response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[Notifications] = None


class NotificationsDeleteResponse(BaseModel):
    """Notifications delete response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[Notifications] = None


class NotificationsDisableResponse(BaseModel):
    """Notifications disable response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[Notifications] = None


class NotificationsGetResponse(BaseModel):
    """Notifications get response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[Notifications] = None


class NotificationsListResponse(BaseModel):
    """Notifications list response."""

    code: int
    success: bool
    message: Optional[str] = None
    items: Optional[List[Notifications]] = None
    next_token: Optional[str] = None
