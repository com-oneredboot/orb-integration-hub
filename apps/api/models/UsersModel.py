# AUTO-GENERATED by orb-schema-generator v0.17.0 - DO NOT EDIT
# Regenerate with: orb-schema generate
"""
Generated Python models for Users
"""

from pydantic import BaseModel, ConfigDict, Field, field_validator
from typing import List, Optional
from datetime import datetime

from ..enums.user_status_enum import UserStatus


# CRUD Input Types
class UsersCreateInput(BaseModel):
    """Users create input."""

    user_id: str = Field(..., description="Unique identifier for the user (primary key)")
    cognito_id: str = Field(..., description="Cognito username (used for authentication)")
    cognito_sub: str = Field(..., description="Cognito user sub (unique identifier from tokens)")
    email: str = Field(..., description="User's email address")
    first_name: str = Field(..., description="User's first name")
    last_name: str = Field(..., description="User's last name")
    status: UserStatus = Field(..., description="Current status of the user")
    created_at: datetime = Field(..., description="When the user was created")
    updated_at: datetime = Field(..., description="When the user was last updated")
    phone_number: Optional[str] = Field(None, description="User's phone number")
    groups: Optional[List[str]] = Field(
        None, description="List of Cognito groups the user belongs to (used for AppSync @aws_auth)"
    )
    email_verified: Optional[bool] = Field(None, description="Whether the user's email is verified")
    phone_verified: Optional[bool] = Field(
        None, description="Whether the user's phone number is verified"
    )
    mfa_enabled: Optional[bool] = Field(
        None, description="Whether multi-factor authentication is enabled for the user"
    )
    mfa_setup_complete: Optional[bool] = Field(
        None, description="Whether MFA setup has been completed successfully"
    )


class UsersUpdateInput(BaseModel):
    """Users update input."""

    user_id: Optional[str] = Field(..., description="Unique identifier for the user (primary key)")
    cognito_id: Optional[str] = Field(..., description="Cognito username (used for authentication)")
    cognito_sub: Optional[str] = Field(
        ..., description="Cognito user sub (unique identifier from tokens)"
    )
    email: Optional[str] = Field(..., description="User's email address")
    first_name: Optional[str] = Field(..., description="User's first name")
    last_name: Optional[str] = Field(..., description="User's last name")
    status: Optional[UserStatus] = Field(..., description="Current status of the user")
    created_at: Optional[datetime] = Field(..., description="When the user was created")
    updated_at: Optional[datetime] = Field(..., description="When the user was last updated")
    phone_number: Optional[str] = Field(None, description="User's phone number")
    groups: Optional[List[str]] = Field(
        None, description="List of Cognito groups the user belongs to (used for AppSync @aws_auth)"
    )
    email_verified: Optional[bool] = Field(None, description="Whether the user's email is verified")
    phone_verified: Optional[bool] = Field(
        None, description="Whether the user's phone number is verified"
    )
    mfa_enabled: Optional[bool] = Field(
        None, description="Whether multi-factor authentication is enabled for the user"
    )
    mfa_setup_complete: Optional[bool] = Field(
        None, description="Whether MFA setup has been completed successfully"
    )


class UsersDeleteInput(BaseModel):
    """Users delete input."""

    user_id: str


class UsersDisableInput(BaseModel):
    """Users disable input."""

    user_id: str
    disabled: bool


# Query Input Types
class UsersQueryByUserIdInput(BaseModel):
    """Users query by userId."""

    user_id: str


class UsersQueryByEmailInput(BaseModel):
    """Users query by email."""

    email: str


class UsersQueryByCognitoIdInput(BaseModel):
    """Users query by cognitoId."""

    cognito_id: str


class UsersQueryByCognitoSubInput(BaseModel):
    """Users query by cognitoSub."""

    cognito_sub: str


# Main Model
class Users(BaseModel):
    """Users model."""

    model_config = ConfigDict(from_attributes=True)

    user_id: str = Field(..., description="Unique identifier for the user (primary key)")
    cognito_id: str = Field(..., description="Cognito username (used for authentication)")
    cognito_sub: str = Field(..., description="Cognito user sub (unique identifier from tokens)")
    email: str = Field(..., description="User's email address")
    first_name: str = Field(..., description="User's first name")
    last_name: str = Field(..., description="User's last name")
    status: UserStatus = Field(..., description="Current status of the user")
    created_at: datetime = Field(..., description="When the user was created")
    updated_at: datetime = Field(..., description="When the user was last updated")
    phone_number: Optional[str] = Field(None, description="User's phone number")
    groups: Optional[List[str]] = Field(
        None, description="List of Cognito groups the user belongs to (used for AppSync @aws_auth)"
    )
    email_verified: Optional[bool] = Field(None, description="Whether the user's email is verified")
    phone_verified: Optional[bool] = Field(
        None, description="Whether the user's phone number is verified"
    )
    mfa_enabled: Optional[bool] = Field(
        None, description="Whether multi-factor authentication is enabled for the user"
    )
    mfa_setup_complete: Optional[bool] = Field(
        None, description="Whether MFA setup has been completed successfully"
    )

    @field_validator("created_at", mode="before")
    @classmethod
    def parse_created_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value

    @field_validator("updated_at", mode="before")
    @classmethod
    def parse_updated_at(cls, value):
        """Parse timestamp to epoch seconds."""
        if value is None:
            return None
        if isinstance(value, int):
            return value
        if isinstance(value, float):
            return int(value)
        if isinstance(value, datetime):
            return int(value.timestamp())
        if isinstance(value, str):
            try:
                dt = datetime.fromisoformat(value.replace("Z", "+00:00"))
                return int(dt.timestamp())
            except (ValueError, TypeError):
                pass
        return value

    @field_validator("email_verified", mode="before")
    @classmethod
    def parse_email_verified(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)

    @field_validator("phone_verified", mode="before")
    @classmethod
    def parse_phone_verified(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)

    @field_validator("mfa_enabled", mode="before")
    @classmethod
    def parse_mfa_enabled(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)

    @field_validator("mfa_setup_complete", mode="before")
    @classmethod
    def parse_mfa_setup_complete(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)


# Response Types
class UsersResponse(BaseModel):
    """Users response."""

    StatusCode: int
    Message: Optional[str] = None
    Data: Optional[Users] = None


class UsersListResponse(BaseModel):
    """Users list response."""

    StatusCode: int
    Message: Optional[str] = None
    Data: Optional[List[Users]] = None


# CRUD Response Aliases
UsersCreateResponse = UsersResponse
UsersUpdateResponse = UsersResponse
UsersDeleteResponse = UsersResponse
UsersDisableResponse = UsersResponse
