# AUTO-GENERATED by orb-schema-generator v0.18.2 - DO NOT EDIT
# Regenerate with: orb-schema generate
from pathlib import Path
from typing import Dict

from aws_cdk import (
    aws_appsync as appsync,
    aws_cognito as cognito,
    aws_dynamodb as dynamodb,
    aws_iam as iam,
    aws_lambda as lambda_,
    aws_ssm as ssm,
)
from constructs import Construct


class AppSyncApi(Construct):
    """AppSync GraphQL API construct.

    Args:
        scope: CDK construct scope
        id: Construct ID
        tables: Dictionary of DynamoDB tables by schema name
        lambda_functions: Optional dictionary of Lambda functions
        enable_api_key: Enable API_KEY authorization mode (default False)
        enable_xray: Enable X-Ray tracing (default False)
    """

    def __init__(
        self,
        scope: Construct,
        id: str,
        tables: Dict[str, dynamodb.Table],
        lambda_functions: Dict[str, lambda_.IFunction] | None = None,
        enable_api_key: bool = False,
        enable_xray: bool = False,
    ) -> None:
        super().__init__(scope, id)

        # Calculate schema path relative to this file
        schema_path = Path(__file__).parent / "../../../../apps/api/graphql/schema.graphql"

        # Get User Pool ID from SSM
        user_pool_id = ssm.StringParameter.value_for_string_parameter(
            self, "/orb/integration-hub/dev/cognito/user-pool-id"
        )
        user_pool = cognito.UserPool.from_user_pool_id(
            self, "UserPool", user_pool_id
        )

        # Create CloudWatch Logs role for AppSync
        logging_role = iam.Role(
            self, "AppSyncLoggingRole",
            assumed_by=iam.ServicePrincipal("appsync.amazonaws.com"),
            managed_policies=[
                iam.ManagedPolicy.from_aws_managed_policy_name(
                    "service-role/AWSAppSyncPushToCloudWatchLogs"
                ),
            ],
        )

        # Build additional authorization modes
        additional_auth_modes = []
        if enable_api_key:
            additional_auth_modes.append(
                appsync.AuthorizationMode(
                    authorization_type=appsync.AuthorizationType.API_KEY,
                )
            )

        # Create GraphQL API
        self.api = appsync.GraphqlApi(
            self, "Api",
            name="orb-integration-hub-dev-appsync-api",
            definition=appsync.Definition.from_file(str(schema_path)),
            authorization_config=appsync.AuthorizationConfig(
                default_authorization=appsync.AuthorizationMode(
                    authorization_type=appsync.AuthorizationType.USER_POOL,
                    user_pool_config=appsync.UserPoolConfig(
                        user_pool=user_pool,
                    ),
                ),
                additional_authorization_modes=additional_auth_modes if additional_auth_modes else None,
            ),
            log_config=appsync.LogConfig(
                field_log_level=appsync.FieldLogLevel.ALL,
                exclude_verbose_content=False,
                role=logging_role,
            ),
            xray_enabled=enable_xray,
        )

        # SSM Parameters for API discovery
        ssm.StringParameter(
            self, "ApiIdParameter",
            parameter_name="/orb/integration-hub/dev/appsync/api-id",
            string_value=self.api.api_id,
        )

        ssm.StringParameter(
            self, "GraphqlUrlParameter",
            parameter_name="/orb/integration-hub/dev/appsync/graphql-url",
            string_value=self.api.graphql_url,
        )

        # Add DynamoDB data sources and resolvers

        # OwnershipTransferRequests data source and resolvers
        ownership_transfer_requests_data_source = self.api.add_dynamo_db_data_source(
            "OwnershipTransferRequestsDataSource",
            tables["OwnershipTransferRequests"],
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsCreateResolver",
            type_name="Mutation",
            field_name="OwnershipTransferRequestsCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsCreate.response.vtl")
            ),
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsUpdateResolver",
            type_name="Mutation",
            field_name="OwnershipTransferRequestsUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsUpdate.response.vtl")
            ),
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsDeleteResolver",
            type_name="Mutation",
            field_name="OwnershipTransferRequestsDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OwnershipTransferRequestsDelete.response.vtl")
            ),
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsQueryByCurrentOwnerIdResolver",
            type_name="Query",
            field_name="OwnershipTransferRequestsQueryByCurrentOwnerId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByCurrentOwnerId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByCurrentOwnerId.response.vtl")
            ),
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsQueryByNewOwnerIdResolver",
            type_name="Query",
            field_name="OwnershipTransferRequestsQueryByNewOwnerId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByNewOwnerId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByNewOwnerId.response.vtl")
            ),
        )

        ownership_transfer_requests_data_source.create_resolver(
            "OwnershipTransferRequestsQueryByStatusResolver",
            type_name="Query",
            field_name="OwnershipTransferRequestsQueryByStatus",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByStatus.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OwnershipTransferRequestsQueryByStatus.response.vtl")
            ),
        )


        # Organizations data source and resolvers
        organizations_data_source = self.api.add_dynamo_db_data_source(
            "OrganizationsDataSource",
            tables["Organizations"],
        )

        organizations_data_source.create_resolver(
            "OrganizationsCreateResolver",
            type_name="Mutation",
            field_name="OrganizationsCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsCreate.response.vtl")
            ),
        )

        organizations_data_source.create_resolver(
            "OrganizationsUpdateResolver",
            type_name="Mutation",
            field_name="OrganizationsUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsUpdate.response.vtl")
            ),
        )

        organizations_data_source.create_resolver(
            "OrganizationsDeleteResolver",
            type_name="Mutation",
            field_name="OrganizationsDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationsDelete.response.vtl")
            ),
        )

        organizations_data_source.create_resolver(
            "OrganizationsQueryByOwnerIdResolver",
            type_name="Query",
            field_name="OrganizationsQueryByOwnerId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationsQueryByOwnerId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationsQueryByOwnerId.response.vtl")
            ),
        )

        organizations_data_source.create_resolver(
            "OrganizationsQueryByStatusResolver",
            type_name="Query",
            field_name="OrganizationsQueryByStatus",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationsQueryByStatus.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationsQueryByStatus.response.vtl")
            ),
        )


        # Notifications data source and resolvers
        notifications_data_source = self.api.add_dynamo_db_data_source(
            "NotificationsDataSource",
            tables["Notifications"],
        )

        notifications_data_source.create_resolver(
            "NotificationsCreateResolver",
            type_name="Mutation",
            field_name="NotificationsCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsCreate.response.vtl")
            ),
        )

        notifications_data_source.create_resolver(
            "NotificationsUpdateResolver",
            type_name="Mutation",
            field_name="NotificationsUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsUpdate.response.vtl")
            ),
        )

        notifications_data_source.create_resolver(
            "NotificationsDeleteResolver",
            type_name="Mutation",
            field_name="NotificationsDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.NotificationsDelete.response.vtl")
            ),
        )

        notifications_data_source.create_resolver(
            "NotificationsQueryByRecipientUserIdResolver",
            type_name="Query",
            field_name="NotificationsQueryByRecipientUserId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.NotificationsQueryByRecipientUserId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.NotificationsQueryByRecipientUserId.response.vtl")
            ),
        )

        notifications_data_source.create_resolver(
            "NotificationsQueryByTypeResolver",
            type_name="Query",
            field_name="NotificationsQueryByType",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.NotificationsQueryByType.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.NotificationsQueryByType.response.vtl")
            ),
        )


        # PrivacyRequests data source and resolvers
        privacy_requests_data_source = self.api.add_dynamo_db_data_source(
            "PrivacyRequestsDataSource",
            tables["PrivacyRequests"],
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsCreateResolver",
            type_name="Mutation",
            field_name="PrivacyRequestsCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsCreate.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsUpdateResolver",
            type_name="Mutation",
            field_name="PrivacyRequestsUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsUpdate.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsDeleteResolver",
            type_name="Mutation",
            field_name="PrivacyRequestsDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.PrivacyRequestsDelete.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsQueryByRequestTypeResolver",
            type_name="Query",
            field_name="PrivacyRequestsQueryByRequestType",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByRequestType.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByRequestType.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsQueryByDataSubjectEmailResolver",
            type_name="Query",
            field_name="PrivacyRequestsQueryByDataSubjectEmail",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByDataSubjectEmail.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByDataSubjectEmail.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsQueryByOrganizationIdResolver",
            type_name="Query",
            field_name="PrivacyRequestsQueryByOrganizationId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByOrganizationId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByOrganizationId.response.vtl")
            ),
        )

        privacy_requests_data_source.create_resolver(
            "PrivacyRequestsQueryByStatusResolver",
            type_name="Query",
            field_name="PrivacyRequestsQueryByStatus",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByStatus.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.PrivacyRequestsQueryByStatus.response.vtl")
            ),
        )


        # ApplicationUsers data source and resolvers
        application_users_data_source = self.api.add_dynamo_db_data_source(
            "ApplicationUsersDataSource",
            tables["ApplicationUsers"],
        )

        application_users_data_source.create_resolver(
            "ApplicationUsersCreateResolver",
            type_name="Mutation",
            field_name="ApplicationUsersCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersCreate.response.vtl")
            ),
        )

        application_users_data_source.create_resolver(
            "ApplicationUsersUpdateResolver",
            type_name="Mutation",
            field_name="ApplicationUsersUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersUpdate.response.vtl")
            ),
        )

        application_users_data_source.create_resolver(
            "ApplicationUsersDeleteResolver",
            type_name="Mutation",
            field_name="ApplicationUsersDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationUsersDelete.response.vtl")
            ),
        )

        application_users_data_source.create_resolver(
            "ApplicationUsersQueryByUserIdResolver",
            type_name="Query",
            field_name="ApplicationUsersQueryByUserId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationUsersQueryByUserId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationUsersQueryByUserId.response.vtl")
            ),
        )

        application_users_data_source.create_resolver(
            "ApplicationUsersQueryByApplicationIdResolver",
            type_name="Query",
            field_name="ApplicationUsersQueryByApplicationId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationUsersQueryByApplicationId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationUsersQueryByApplicationId.response.vtl")
            ),
        )


        # SmsRateLimit data source and resolvers
        sms_rate_limit_data_source = self.api.add_dynamo_db_data_source(
            "SmsRateLimitDataSource",
            tables["SmsRateLimit"],
        )

        sms_rate_limit_data_source.create_resolver(
            "SmsRateLimitCreateResolver",
            type_name="Mutation",
            field_name="SmsRateLimitCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitCreate.response.vtl")
            ),
        )

        sms_rate_limit_data_source.create_resolver(
            "SmsRateLimitUpdateResolver",
            type_name="Mutation",
            field_name="SmsRateLimitUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitUpdate.response.vtl")
            ),
        )

        sms_rate_limit_data_source.create_resolver(
            "SmsRateLimitDeleteResolver",
            type_name="Mutation",
            field_name="SmsRateLimitDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.SmsRateLimitDelete.response.vtl")
            ),
        )


        # OrganizationUsers data source and resolvers
        organization_users_data_source = self.api.add_dynamo_db_data_source(
            "OrganizationUsersDataSource",
            tables["OrganizationUsers"],
        )

        organization_users_data_source.create_resolver(
            "OrganizationUsersCreateResolver",
            type_name="Mutation",
            field_name="OrganizationUsersCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersCreate.response.vtl")
            ),
        )

        organization_users_data_source.create_resolver(
            "OrganizationUsersUpdateResolver",
            type_name="Mutation",
            field_name="OrganizationUsersUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersUpdate.response.vtl")
            ),
        )

        organization_users_data_source.create_resolver(
            "OrganizationUsersDeleteResolver",
            type_name="Mutation",
            field_name="OrganizationUsersDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.OrganizationUsersDelete.response.vtl")
            ),
        )

        organization_users_data_source.create_resolver(
            "OrganizationUsersQueryByOrganizationIdResolver",
            type_name="Query",
            field_name="OrganizationUsersQueryByOrganizationId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationUsersQueryByOrganizationId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationUsersQueryByOrganizationId.response.vtl")
            ),
        )

        organization_users_data_source.create_resolver(
            "OrganizationUsersQueryByUserIdResolver",
            type_name="Query",
            field_name="OrganizationUsersQueryByUserId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationUsersQueryByUserId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.OrganizationUsersQueryByUserId.response.vtl")
            ),
        )


        # ApplicationRoles data source and resolvers
        application_roles_data_source = self.api.add_dynamo_db_data_source(
            "ApplicationRolesDataSource",
            tables["ApplicationRoles"],
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesCreateResolver",
            type_name="Mutation",
            field_name="ApplicationRolesCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesCreate.response.vtl")
            ),
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesUpdateResolver",
            type_name="Mutation",
            field_name="ApplicationRolesUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesUpdate.response.vtl")
            ),
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesDeleteResolver",
            type_name="Mutation",
            field_name="ApplicationRolesDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationRolesDelete.response.vtl")
            ),
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesQueryByUserIdResolver",
            type_name="Query",
            field_name="ApplicationRolesQueryByUserId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByUserId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByUserId.response.vtl")
            ),
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesQueryByApplicationIdResolver",
            type_name="Query",
            field_name="ApplicationRolesQueryByApplicationId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByApplicationId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByApplicationId.response.vtl")
            ),
        )

        application_roles_data_source.create_resolver(
            "ApplicationRolesQueryByRoleIdResolver",
            type_name="Query",
            field_name="ApplicationRolesQueryByRoleId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByRoleId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationRolesQueryByRoleId.response.vtl")
            ),
        )


        # Roles data source and resolvers
        roles_data_source = self.api.add_dynamo_db_data_source(
            "RolesDataSource",
            tables["Roles"],
        )

        roles_data_source.create_resolver(
            "RolesCreateResolver",
            type_name="Mutation",
            field_name="RolesCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesCreate.response.vtl")
            ),
        )

        roles_data_source.create_resolver(
            "RolesUpdateResolver",
            type_name="Mutation",
            field_name="RolesUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesUpdate.response.vtl")
            ),
        )

        roles_data_source.create_resolver(
            "RolesDeleteResolver",
            type_name="Mutation",
            field_name="RolesDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.RolesDelete.response.vtl")
            ),
        )

        roles_data_source.create_resolver(
            "RolesQueryByUserIdResolver",
            type_name="Query",
            field_name="RolesQueryByUserId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.RolesQueryByUserId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.RolesQueryByUserId.response.vtl")
            ),
        )


        # Applications data source and resolvers
        applications_data_source = self.api.add_dynamo_db_data_source(
            "ApplicationsDataSource",
            tables["Applications"],
        )

        applications_data_source.create_resolver(
            "ApplicationsCreateResolver",
            type_name="Mutation",
            field_name="ApplicationsCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsCreate.response.vtl")
            ),
        )

        applications_data_source.create_resolver(
            "ApplicationsUpdateResolver",
            type_name="Mutation",
            field_name="ApplicationsUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsUpdate.response.vtl")
            ),
        )

        applications_data_source.create_resolver(
            "ApplicationsDeleteResolver",
            type_name="Mutation",
            field_name="ApplicationsDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.ApplicationsDelete.response.vtl")
            ),
        )

        applications_data_source.create_resolver(
            "ApplicationsQueryByOrganizationIdResolver",
            type_name="Query",
            field_name="ApplicationsQueryByOrganizationId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationsQueryByOrganizationId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.ApplicationsQueryByOrganizationId.response.vtl")
            ),
        )


        # Users data source and resolvers
        users_data_source = self.api.add_dynamo_db_data_source(
            "UsersDataSource",
            tables["Users"],
        )

        users_data_source.create_resolver(
            "UsersCreateResolver",
            type_name="Mutation",
            field_name="UsersCreate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersCreate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersCreate.response.vtl")
            ),
        )

        users_data_source.create_resolver(
            "UsersUpdateResolver",
            type_name="Mutation",
            field_name="UsersUpdate",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersUpdate.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersUpdate.response.vtl")
            ),
        )

        users_data_source.create_resolver(
            "UsersDeleteResolver",
            type_name="Mutation",
            field_name="UsersDelete",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersDelete.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Mutation.UsersDelete.response.vtl")
            ),
        )

        users_data_source.create_resolver(
            "UsersQueryByEmailResolver",
            type_name="Query",
            field_name="UsersQueryByEmail",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByEmail.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByEmail.response.vtl")
            ),
        )

        users_data_source.create_resolver(
            "UsersQueryByCognitoIdResolver",
            type_name="Query",
            field_name="UsersQueryByCognitoId",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByCognitoId.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByCognitoId.response.vtl")
            ),
        )

        users_data_source.create_resolver(
            "UsersQueryByCognitoSubResolver",
            type_name="Query",
            field_name="UsersQueryByCognitoSub",
            request_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByCognitoSub.request.vtl")
            ),
            response_mapping_template=appsync.MappingTemplate.from_file(
                str(Path(__file__).parent / "resolvers/Query.UsersQueryByCognitoSub.response.vtl")
            ),
        )


        # Add Lambda data sources and resolvers

        # CheckEmailExists Lambda data source and resolvers
        check_email_exists_lambda_arn = ssm.StringParameter.value_for_string_parameter(
            self, "/orb/integration-hub/dev/lambda/checkemailexists/arn"
        )
        check_email_exists_lambda = lambda_.Function.from_function_attributes(
            self,
            "CheckEmailExistsLambda",
            function_arn=check_email_exists_lambda_arn,
            same_environment=True,
        )
        check_email_exists_lambda_data_source = self.api.add_lambda_data_source(
            "CheckEmailExistsLambdaDataSource",
            check_email_exists_lambda,
        )

        check_email_exists_lambda_data_source.create_resolver(
            "CheckEmailExistsResolver",
            type_name="Query",
            field_name="CheckEmailExists",
        )


        # SmsVerification Lambda data source and resolvers
        sms_verification_lambda_arn = ssm.StringParameter.value_for_string_parameter(
            self, "/orb/integration-hub/dev/lambda/smsverification/arn"
        )
        sms_verification_lambda = lambda_.Function.from_function_attributes(
            self,
            "SmsVerificationLambda",
            function_arn=sms_verification_lambda_arn,
            same_environment=True,
        )
        sms_verification_lambda_data_source = self.api.add_lambda_data_source(
            "SmsVerificationLambdaDataSource",
            sms_verification_lambda,
        )

        sms_verification_lambda_data_source.create_resolver(
            "SmsVerificationResolver",
            type_name="Mutation",
            field_name="SmsVerification",
        )
